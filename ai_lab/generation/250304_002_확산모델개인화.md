## 확산 모델의 개인화 및 제어 기술

Text-to-Image 모델의 문제점: 원하는 이미지를 정확하게 생성하기 어려움. 이를 해결하기 위한 개인화 및 제어 기술들이 연구되고 있음.

### 개인화 (Personalization)

*   **텍스트 반전 (Textual Inversion):**
    *   특정 객체나 스타일을 나타내는 새로운 단어 임베딩 벡터를 학습하여, 프롬프트에 추가함으로써 원하는 스타일이나 객체를 생성.
    *   장점: 비교적 간단하게 구현 가능하며, 특정 스타일이나 객체를 쉽게 적용할 수 있음.
    *   단점: 새로운 단어에 대한 임베딩만 학습하므로, 복잡한 형태나 구조를 표현하기 어려울 수 있음.

*   **드림부스 (DreamBooth):**
    *   소량의 이미지 데이터셋으로 전체 모델을 파인튜닝하여 특정 객체를 생성하도록 학습.
    *   문제점:
        *   과적합에 취약하며, 기존에 학습된 지식을 잊어버리는 catastrophic forgetting 발생 가능성이 높음.
        *   새로운 학습 이미지의 포즈, 각도, 조명 등에 과도하게 적합될 수 있음.
        *   학습 시 식별자(identifier) + 클래스(class) 형태로 프롬프트를 구성해야 함. (e.g., "a photo of sks dog")

*   **로라 (Low-Rank Adaptation, LoRA):**
    *   사전 학습된 모델의 가중치는 고정하고, 가중치 변화량(delta)을 학습하는 방식.
    *   가중치 변화량을 낮은 랭크(low-rank)의 두 행렬 곱으로 분해하여 학습 파라미터 수를 대폭 감소시킴 (e.g., r=4).
    *   장점:
        *   기존 학습 능력을 유지하면서, 적은 데이터로도 효율적인 학습이 가능.
        *   파인튜닝 시, 아주 작은 수의 파라미터만 업데이트하므로 계산 비용이 적음.

*   **Perfusion:**
    *   Attention 메커니즘의 Key 값을 활용하여, 이미지 속 여러 객체에 대한 개인화를 동시에 수행하는 방법.
    *   여러 객체 간의 관계를 고려하여 일관성 있는 이미지를 생성하는 데 효과적.

### 제어 (Control)

*   **ControlNet:**
    *   다양한 구조적 입력(structural input, e.g., edge map, segmentation map, pose)을 조건으로 이미지를 생성하는 방법.
    *   사전 학습된 U-Net 모델은 유지하고, 추가적인 layer를 학습하여 입력 조건에 따른 이미지 생성을 제어.
    *   학습된 추가 layer는 U-Net의 feature map에 더해지는 형태로 작동.

*   **Face0:**
    *   사람 얼굴을 조건으로 사용하여, 동일한 얼굴의 다양한 결과를 생성하는 기법.
    *   얼굴 이미지에서 특징을 추출하고, 텍스트 프롬프트와 함께 모델에 제공하여 얼굴의 identity를 유지하면서 다양한 스타일로 이미지를 생성.

*   **IP-Adapter (Image Prompt Adapter):**
    *   이미지를 프롬프트로 사용하여, 추가적인 파인튜닝 없이 사전 학습된 Latent Diffusion Model의 생성 능력을 활용하는 방법.
    *   텍스트 프롬프트와 함께 이미지 프롬프트를 제공하여 생성 과정을 제어.
    *   기존 모델의 파라미터를 고정하고, 이미지 특징을 추출하는 작은 네트워크(Adapter)만 학습시켜 효율성을 높임.

*   **Imagic:**
    *   기존 이미지를 텍스트 프롬프트로 수정하는 방법. (e.g., "고양이" 이미지를 "강아지"로 바꾸는 식)
    *   텍스트 프롬프트와 이미지를 함께 사용하여 이미지의 latent space를 조작하여 편집.
    *   이미지의 전체적인 구조는 유지하면서, 텍스트 프롬프트에 따라 세부적인 내용을 변경.
